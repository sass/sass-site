<!DOCTYPE html> <html class=no-js lang=en> <head> <meta charset=utf-8> <meta content='IE=edge' http-equiv=X-UA-Compatible> <title>Sass: Announcing Dart Sass</title> <meta content='Syntactically Awesome Style Sheets' name=description> <meta content='width=device-width, initial-scale=1' name=viewport> <link href='/feed.xml' rel=alternate type='application/atom+xml'> <link href="https://fonts.googleapis.com/css?family=Source+Code+Pro|Source+Sans+Pro:300,400,600|Source+Serif+Pro" rel=stylesheet /> <link href="https://cdn.jsdelivr.net/npm/@docsearch/css@alpha" rel=stylesheet /> <link href="/assets/css/sass-3dfe1e16.css" rel=stylesheet /> <noscript><link href="/assets/css/noscript-c6723936.css" rel=stylesheet /></noscript> <script>
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-535380-8']);
  _gaq.push(['_trackPageview']);
  
  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script> <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  
  ga('create', 'UA-535380-14', 'sass-lang.com');
  ga('send', 'pageview');
</script> </head> <body class='blog blog_announcing-dart-sass'> <!--[if lt IE 9]><p class=browserupgrade> You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security. </p><![endif]--> <header class=sl-r-banner itemscope=itemscope itemtype='http://schema.org/WPHeader' role=banner> <div class='sl-c-alert sl-c-alert--info' style='background: #000; padding: 3rem 0; text-align: left;'> <div class=sl-l-container> <h2 style='margin-top: 0;'>Black Lives Matter</h2> <p> Sass stands with the protesters against police violence. We encourage our users to <strong>get in the streets and join them if you can</strong>. </p> </div> </div> <div class=sl-c-pop-stripe></div> <div class=sl-l-container> <div class='sl-l-grid sl-l-grid--full sl-l-large-grid--fit sl-l-large-grid--center sl-l-large-grid--gutters'> <p class='sl-l-grid__column sl-r-banner__brand'> <a href="/"><img alt=Sass height=48 src="/assets/img/logos/logo-b6e1ef6e.svg"/> </a></p> <nav aria-label='Site navigation' class='sl-r-banner__navigation sl-l-grid__column sl-l-large-grid sl-l-large-grid__column--auto-size sl-c-list-horizontal-wrapper' itemscope=itemscope itemtype='http://schema.org/SiteNavigationElement' role=navigation> <ul> <li><a href="/install">Install</a></li> <li><a href="/guide">Learn Sass</a></li> <li><a href="/blog">Blog</a></li> <li><a href="/documentation">Documentation</a></li> <li><a href="/community">Get Involved</a></li> <li><div id=docsearch></div></li> </ul> </nav> </div> </div> </header> <main class=content id=main-content itemprop=mainContentOfPage role=main> <h1 class=sl-l-container> Announcing Dart&nbsp;Sass </h1> <div class='sl-background--white sl-l-container sl-l-section'><p class=sl-c-attribution>Posted 31 October 2016 by Natalie Weizenbaum</p> <p>Over the past few months, I&rsquo;ve been quietly working on a new project. Today&nbsp;I&rsquo;m ready to announce <a href="https://github.com/sass/dart-sass">Dart Sass</a> to the&nbsp;world. It&rsquo;s a totally new implementation of Sass, designed to be fast, easy to&nbsp;install, and easy to hack on. It&rsquo;s not yet complete—I&rsquo;m steadily working my way&nbsp;through <a href="https://github.com/sass/sass-spec">sass-spec</a>—so today I&rsquo;m just&nbsp;releasing version <span class=caps>1.0.0</span>-alpha.1. But it&rsquo;s solid enough for you to download, play with,&nbsp;and <a href="https://github.com/sass/dart-sass/issues">start filing issues</a>.</p> <p>You can download a standalone archive <a href="https://github.com/sass/dart-sass/releases/tag/1.0.0-alpha.1">from the&nbsp;release page</a>—just&nbsp;extract it, add the folder to your path, and run <code>dart-sass</code>. Dart also compiles&nbsp;to JavaScript, so if you have <a href="https://www.npmjs.com/">npm</a> installed you&nbsp;can install the <span class=caps>JS</span> version by running <code>npm install -g dart-sass</code>. And, if you&nbsp;happen to be a Dart user yourself, you can install it using&nbsp;<code>pub global install sass</code>.</p> <h2 id=why-rewrite-sass> <a class=anchor href="#why-rewrite-sass"><span class=visuallyhidden>Why Rewrite Sass? permalink</span></a>Why Rewrite&nbsp;Sass?</h2> <p>Over the past few years, there have been two primary implementations of&nbsp;Sass. <a href="https://github.com/sass/sass">Ruby Sass</a> was the original, written mostly by&nbsp;me with substantial help from <a href="https://twitter.com/chriseppstein">Chris</a>.&nbsp;It&rsquo;s high-level and easy to hack on, so it&rsquo;s where we iterate on new features&nbsp;and where they first get released. Then&nbsp;there&rsquo;s <a href="https://github.com/sass/libsass">LibSass</a>, the C++ implementation,&nbsp;originally created by <a href="https://github.com/akhleung">Aaron</a>&nbsp;and <a href="https://github.com/hcatlin">Hampton</a> and now maintained&nbsp;by <a href="https://github.com/mgreter">Marcel</a> and <a href="https://github.com/xzyfer">Michael</a>. It&rsquo;s low-level, which makes it very fast and easy to install and embed in&nbsp;other languages. In particular, its <a href="https://github.com/sass/node-sass">Node.js bindings</a> are a very popular way to use&nbsp;Sass in the JavaScript&nbsp;world.</p> <p>Each implementation&rsquo;s strengths complement the other&rsquo;s weaknesses. Where&nbsp;LibSass is fast and portable, Ruby Sass is slow and difficult for non-Ruby-users&nbsp;to install. Where Ruby Sass is easy to iterate on, LibSass&rsquo;s low-level&nbsp;language makes it substantially harder to add new features. A complementary&nbsp;relationship can be healthy, but it can also mean that neither solution is as good as&nbsp;it needs to be. That&rsquo;s what we found when, in May, <a href="http://blog.sass-lang.com/posts/734390-thank-you-marcel">Marcel officially left&nbsp;the LibSass team</a><sup id=fnref1><a href="#fn1">1</a></sup>.</p> <p>Without two people&rsquo;s worth of effort, we were no longer sure that LibSass&nbsp;could keep pace with the speed Chris and I wanted to introduce changes into&nbsp;the language. And it had been clear for a long time that Ruby Sass was far too&nbsp;slow for use cases involving large stylesheets. We needed a new implementation,&nbsp;one that could generate <span class=caps>CSS</span> quickly <em>and</em> add new features&nbsp;quickly.</p> <h2 id=why-dart> <a class=anchor href="#why-dart"><span class=visuallyhidden>Why Dart? permalink</span></a>Why&nbsp;Dart?</h2> <p>We considered a number of possible languages, and ended up deciding on Dart&nbsp;for a number of reasons. First, it&rsquo;s <em>really fast</em>—the Dart <span class=caps>VM</span> is generally&nbsp;much faster than JavaScript VMs, and <a href="https://github.com/sass/dart-sass/blob/main/perf.md">early benchmarks</a><sup id=fnref2><a href="#fn2">2</a></sup> indicate that, for large stylesheets, Dart Sass is 5-10x faster than Ruby Sass and&nbsp;only about 1.5x slower than LibSass. I&rsquo;ll hazard a guess that it would be&nbsp;about <span class=caps>1.5</span>-2x faster than an idiomatic <span class=caps>JS</span> implementation, but I can&rsquo;t say for sure.&nbsp;And Dart&rsquo;s performance continues to get better all the&nbsp;time.</p> <p>At the same time, Dart is easy to work with—much more so than C++, and to&nbsp;some extent even more than Ruby for such a large project. Granted, not as many&nbsp;people are familiar with it as with JavaScript, but language implementations don&rsquo;t&nbsp;tend to get many external contributions anyway. I&rsquo;ll be doing most of the work on&nbsp;the new implementation, and Dart is the language that I&rsquo;m personally&nbsp;most comfortable with at the moment (when I&rsquo;m not working on Sass, I&rsquo;m on the&nbsp;Dart team). Using Dart gives me a lot of extra&nbsp;velocity.</p> <p>Unlike Ruby or JavaScript, Dart is <em>statically typed</em>, so every value&rsquo;s type&nbsp;can be figured out without running the code. Unlike C++, it&rsquo;s <em>garbage collected</em>, so we don&rsquo;t have to worry as much about cleaning up after ourselves. This&nbsp;makes it easy to write, easy to modify, and easy to maintain. Maybe even&nbsp;more importantly, it makes it easy to translate to other programming languages,&nbsp;which will help LibSass get new features&nbsp;faster.</p> <p>The last reason we chose Dart is something that only a few other languages&nbsp;can boast: JavaScript compatibility. Dart can be compiled to JavaScript, which&nbsp;can be used directly in Node.js or even potentially run in a browser. A huge&nbsp;chunk of the Sass ecosystem built on node-sass, and we intend to make the <span class=caps>JS</span>&nbsp;version of Dart Sass as close to <span class=caps>API</span>-compatible with node-sass as possible, so that&nbsp;it can easily drop into existing tools and build&nbsp;systems.</p> <p>The only downside is that there&rsquo;s a speed hit: Dart Sass is about twice as&nbsp;slow running on <span class=caps>V8</span> as it is running on the Dart <span class=caps>VM.</span> However, this still puts&nbsp;it solidly 3-4x faster than Ruby Sass. Ultimately we also hope to provide an&nbsp;easy path for users of the <span class=caps>JS</span>-compiled version to move to the Dart <span class=caps>VM</span> version&nbsp;as little friction as&nbsp;possible.</p> <h2 id=what-will-happen-to-the-other-implementations> <a class=anchor href="#what-will-happen-to-the-other-implementations"><span class=visuallyhidden>What Will Happen to The Other Implementations? permalink</span></a>What Will Happen to The Other&nbsp;Implementations?</h2> <p>Nothing&rsquo;s changing about LibSass&rsquo;s development. Michael&rsquo;s hard at work&nbsp;adding features from <a href="http://blog.sass-lang.com/posts/809572-sass-35-release-candidate">Sass <span class=caps>3.5</span></a>, and&nbsp;we expect that process to continue as new language features are added. The&nbsp;only difference is that LibSass will no longer be required to be strictly&nbsp;compatible with the latest version of the language in order for that version to&nbsp;launch, since it will no longer be the only implementation with reasonable&nbsp;performance.</p> <p>More flexibility translates into faster LibSass releases that prioritize&nbsp;the features users want most. Strict compatibility meant that important&nbsp;features like <a href="https://github.com/sass/libsass/issues/2076"><span class=caps>CSS</span> custom property&nbsp;support</a> can&rsquo;t be released until all the tiny tricky edge cases that were in&nbsp;the corresponding Ruby Sass release, like <a href="https://github.com/sass/libsass/issues/2071"><code>:root</code> unification</a>, are implemented&nbsp;as well. We&rsquo;ll still strive for as much compatibility as possible, but we won&rsquo;t&nbsp;let that stand in the way of&nbsp;velocity.</p> <p>Ruby Sass, on the other hand, will eventually go away unless a new&nbsp;maintainer appears. We don&rsquo;t want to make the transition sudden and risk fracturing&nbsp;the ecosystem: Chris and I are committed to maintaining it for one year,&nbsp;which includes keeping the language in sync with any new additions in Dart Sass.&nbsp;If anyone is interested in volunteering as a maintainer after that period, we&rsquo;d&nbsp;be thrilled to mentor them and teach them the codebase over the coming year. But&nbsp;if no one steps up, Ruby Sass will be officially considered deprecated&nbsp;and unmaintained.</p> <p>I want to emphasize that we aren&rsquo;t making the decision to stop developing&nbsp;Ruby Sass lightly. This is a big change, and it&rsquo;s not an easy one for me—I&rsquo;ve&nbsp;worked on Ruby Sass continuously for almost ten years now, and it&rsquo;s difficult to&nbsp;let that history go. But Chris and I have discussed this thoroughly, and&nbsp;we&rsquo;re convinced this is the right move. We only have so much time to devote to&nbsp;Sass, and it no longer makes sense to put that time into an implementation that&rsquo;s&nbsp;so slow as to be infeasible for many of our largest&nbsp;users.</p> <h2 id=what-next> <a class=anchor href="#what-next"><span class=visuallyhidden>What Next? permalink</span></a>What&nbsp;Next?</h2> <p>Before we release the first stable version of Dart Sass, there are a few&nbsp;big things on our to-do&nbsp;list:</p> <ul> <li><p>Full sass-spec compatibility. There are still a bunch of corners of&nbsp;the language where Dart Sass does the wrong thing, especially with respect&nbsp;to <code>@extend</code>. I don&rsquo;t expect any individual incompatibility to be&nbsp;especially difficult to address, and sass-spec is pretty comprehensive, so it&rsquo;s just&nbsp;a matter of steadily reducing the number of failing specs until it hits&nbsp;zero.</p></li> <li><p>Close-enough node-sass <code>render()</code> compatibility in the npm package.&nbsp;The node-sass <code>render()</code> <span class=caps>API</span> is the main entrypoint to LibSass in the&nbsp;JavaScript world. It&rsquo;s how build systems run Sass, how users define custom&nbsp;Sass functions, and how <a href="https://github.com/sass-eyeglass/eyeglass">Eyeglass</a> passes modules to Sass. We want to support this <span class=caps>API</span> with enough fidelity&nbsp;that the existing ecosystem works with <span class=caps>JS</span>-compiled Dart&nbsp;Sass.</p></li> <li><p>Dart Sass compatibility in Ruby Sass. There are some cases where Dart&nbsp;Sass intentionally differs from Ruby Sass, particularly when Ruby Sass&rsquo;s&nbsp;behavior is considered a bug. We should add deprecation messages in Ruby Sass and,&nbsp;if we can do so with minimal disruption, add support for the new&nbsp;behavior.</p></li> </ul> <p>There&rsquo;s plenty more we&rsquo;d like to do eventually, like supporting Sass in&nbsp;the browser and providing a node-sass-compatible wrapper for Sass on the Dart&nbsp;<span class=caps>VM</span>, but those aren&rsquo;t blocking the initial&nbsp;release.</p> <h2 id=onward-into-the-future> <a class=anchor href="#onward-into-the-future"><span class=visuallyhidden>Onward Into the Future permalink</span></a>Onward Into the&nbsp;Future</h2> <p>The next couple months will see a lot of work go into getting Dart Sass&nbsp;stable and compatible, and getting <a href="http://blog.sass-lang.com/posts/809572-sass-35-release-candidate">Sass&nbsp;<span class=caps>3.5</span> features</a>&nbsp;into LibSass. I think it&rsquo;s likely that early 2017 will see a stable release of&nbsp;Dart Sass and a <span class=caps>3.5</span> release of LibSass. At that point we&rsquo;ll set our sight on the&nbsp;big features and start working towards Sass <span class=caps>4.0</span> and its brand new module&nbsp;system.</p> <p>Dart Sass is a big change, but it&rsquo;s an exciting one as well. It&rsquo;ll allow us&nbsp;to get new features into users&rsquo; hands faster, and to make those features <em>run</em> faster. It&rsquo;ll make it possible for users to trivially install and run&nbsp;the reference implementation. And it&rsquo;ll give us a performant way to run Sass in&nbsp;pure JavaScript Sass for the first time ever. The benefits are large and&nbsp;tangible, and I&rsquo;m confident they&rsquo;re worth the&nbsp;costs.</p> <div class=footnotes> <hr> <ol> <li id=fn1> <p>I say &ldquo;officially&rdquo; because he&rsquo;s still contributing to the project when&nbsp;he can, just not in an official maintainer capacity.&nbsp;<a href="#fnref1">&#8617;</a></p> </li> <li id=fn2> <p>Caveats apply: I&rsquo;m not a benchmarking expert, and these tests were <em>ad hoc</em> and run against non-representative source stylesheets. If anyone&nbsp;is interested in working on more scientific benchmarks, please let me know!&nbsp;<a href="#fnref2">&#8617;</a></p> </li> </ol> </div> </div> <div class=sl-c-alert> <div aria-labelledby=release-nav class='sl-l-container sl-c-list-horizontal-wrapper'> <ul class=sl-l-grid--justify-center> <li id=release-nav> Current Releases: </li> <li> <span class=release-name><a href="/dart-sass">Dart Sass</a>&#32;<a href="https://github.com/sass/dart-sass/releases/tag/1.62.1">1.62.1</a></span> </li> <li> <span class=release-name><a href="/libsass">LibSass</a>&#32;<a href="https://github.com/sass/libsass/releases/tag/3.6.5">3.6.5</a></span> </li> <li> <span class=release-name><a href="/ruby-sass">Ruby Sass</a><span aria-label=coffin role=presentation> &#32; ⚰ </span></span> </li> <li class='sl-l-grid__column sl-l-large-grid__column--auto-size'> <a href="/implementation">Implementation Guide</a> </li> </ul> </div> </div> </main> <footer class='site-footer contentinfo' itemscope=itemscope itemtype='http://schema.org/WPFooter' role=contentinfo> <div class='sl-l-container sl-l-section'> <div class='sl-l-grid sl-l-grid--full sl-l-large-grid--fit sl-l-large-grid--center sl-l-large-grid--gutters'> <div class=sl-l-grid__column> <p>Sass &copy; 2006&ndash;2023 the Sass team, and numerous contributors. It is available for use and modification under the <a href="https://github.com/sass/dart-sass/blob/master/LICENSE">MIT&nbsp;License</a>.</p> <nav class=sl-c-list-horizontal-wrapper> <ul> <li><a href="https://github.com/sass">Sass on GitHub</a></li> <li><a href="https://github.com/sass/sass-site">Website Source Code</a></li> <li><a href="/styleguide">Style Guide</a></li> <li><a href="/community-guidelines">Community Guidelines</a></li> </ul> </nav> </div> <div class='sl-l-grid__column sl-l-large-grid__column--auto-size sl-l-large-grid--justify-right'> <a class=twitter-follow-button data-show-count=false data-size=large href='https://twitter.com/SassCSS'> Follow @SassCSS </a> <a href='https://www.macstadium.com/'> <img alt='Powered by MacStadium' class=mac-stadium-icon src='https://uploads-ssl.webflow.com/5ac3c046c82724970fc60918/5c019d917bba312af7553b49_MacStadium-developerlogo.png'> </a> <script>
  !function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');
</script> </div> </div> </div> </footer> <script src="https://cdn.jsdelivr.net/npm/@docsearch/js@alpha"></script> <script>
  docsearch({
    container: '#docsearch',
    appId: 'Q9MULQONSV',
    indexName: 'sass-lang',
    apiKey: '2ebc7881b79986f58dc2f424769bf3fc',
    transformItems: function(hits) {
      var domain = window.location.origin + "/";
      hits.forEach(function(hit) {
        if (!hit.url.startsWith(domain)) {
          hit.url = hit.url.replace(/^https?:\/\/[^\/]+\//, domain);
        }
      });
      return hits;
    },
  });
</script> <script src="/assets/js/sass-0849f18c.js"></script> </body> </html>