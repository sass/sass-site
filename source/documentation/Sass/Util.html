<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>
  Module: Sass::Util
  
    &mdash; Sass Documentation
  
</title>

  <link rel="stylesheet" href="../css/style.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="../css/common.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  hasFrames = window.top.frames.main ? true : false;
  relpath = '../';
  framesUrl = "../frames.html#!" + escape(window.location.href);
</script>


  <script type="text/javascript" charset="utf-8" src="../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../js/app.js"></script>


  </head>
  <body>
    <div id="header">
      <div id="menu">
  
    <a href="../_index.html">Index (U)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../Sass.html" title="Sass (module)">Sass</a></span></span>
     &raquo; 
    <span class="title">Util</span>
  

  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../class_list.html">
      Class List
    </a>
  
    <a class="full_list_link" id="method_list_link"
        href="../method_list.html">
      Method List
    </a>
  
    <a class="full_list_link" id="file_list_link"
        href="../file_list.html">
      File List
    </a>
  
</div>
      <div class="clear"></div>
    </div>

    <iframe id="search_frame"></iframe>

    <div id="content"><h1>Module: Sass::Util
  
  
  
</h1>

<dl class="box">
  
  
    
      <dt class="r1">Extended by:</dt>
      <dd class="r1"><span class='object_link'><a href="" title="Sass::Util (module)">Util</a></span></dd>
      
    
  
    
  
  
    <dt class="r2">Included in:</dt>
    <dd class="r2"><span class='object_link'><a href="Engine.html" title="Sass::Engine (class)">Engine</a></span>, <span class='object_link'><a href="Plugin.html" title="Sass::Plugin (module)">Plugin</a></span>, <span class='object_link'><a href="Plugin/Compiler.html" title="Sass::Plugin::Compiler (class)">Plugin::Compiler</a></span>, <span class='object_link'><a href="Script/Color.html" title="Sass::Script::Color (class)">Script::Color</a></span>, <span class='object_link'><a href="" title="Sass::Util (module)">Util</a></span>, <span class='object_link'><a href="Version.html" title="Sass::Version (module)">Version</a></span></dd>
    
  
  
    <dt class="r1 last">Defined in:</dt>
    <dd class="r1 last">/Users/jlong/Workspaces/sass-lang.org/.sass/lib/sass/util.rb<span class="defines">,<br />
  /Users/jlong/Workspaces/sass-lang.org/.sass/lib/sass/util/subset_map.rb,<br /> /Users/jlong/Workspaces/sass-lang.org/.sass/lib/sass/util/test.rb</span>
</dd>
  
</dl>
<div class="clear"></div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<p>A module containing various useful functions.</p>


  </div>
</div>
<div class="tags">
  

</div><h2>Defined Under Namespace</h2>
<p class="children">
  
    
      <strong class="modules">Modules:</strong> <span class='object_link'><a href="Util/Test.html" title="Sass::Util::Test (module)">Test</a></span>
    
  
    
      <strong class="classes">Classes:</strong> <span class='object_link'><a href="Util/MultibyteStringScanner.html" title="Sass::Util::MultibyteStringScanner (class)">MultibyteStringScanner</a></span>, <span class='object_link'><a href="Util/StaticConditionalContext.html" title="Sass::Util::StaticConditionalContext (class)">StaticConditionalContext</a></span>, <span class='object_link'><a href="Util/SubsetMap.html" title="Sass::Util::SubsetMap (class)">SubsetMap</a></span>
    
  
</p>

  <h2>Constant Summary</h2>
  
    <dl class="constants">
      
        <dt id="RUBY_VERSION-constant" class="">RUBY_VERSION =
          <div class="docstring">
  <div class="discussion">
    
<p>An array of ints representing the Ruby version number.</p>


  </div>
</div>
<div class="tags">
  

</div>
        </dt>
        <dd><pre class="code">::RUBY_VERSION.split(&quot;.&quot;).map {|s| s.to_i}</pre></dd>
      
        <dt id="RUBY_ENGINE-constant" class="">RUBY_ENGINE =
          <div class="docstring">
  <div class="discussion">
    
<p>The Ruby engine we???re running under. Defaults to <code>&quot;ruby&quot;</code> if the top-level constant is undefined.</p>


  </div>
</div>
<div class="tags">
  

</div>
        </dt>
        <dd><pre class="code">defined?(::RUBY_ENGINE) ? ::RUBY_ENGINE : &quot;ruby&quot;</pre></dd>
      
    </dl>
  







  
    <h2>
      Instance Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#abstract-instance_method" title="#abstract (instance method)">- <strong>abstract</strong>(obj) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Throws a NotImplementedError for an abstract method.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#ap_geq%3F-instance_method" title="#ap_geq? (instance method)">- (Boolean) <strong>ap_geq?</strong>(version) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns whether this environment is using ActionPack of a version greater than or equal to that specified.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#ap_geq_3%3F-instance_method" title="#ap_geq_3? (instance method)">- (Boolean) <strong>ap_geq_3?</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns whether this environment is using ActionPack version 3.0.0 or greater.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#array_minus-instance_method" title="#array_minus (instance method)">- (Array) <strong>array_minus</strong>(minuend, subtrahend) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns a sub-array of <code>minuend</code> containing only elements that are also in <code>subtrahend</code>.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#atomic_create_and_write_file-instance_method" title="#atomic_create_and_write_file (instance method)">- <strong>atomic_create_and_write_file</strong>(filename) {|tmpfile| ... }</a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>This creates a temp file and yields it for writing.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#av_template_class-instance_method" title="#av_template_class (instance method)">- <strong>av_template_class</strong>(name) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns an ActionView::Template* class.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#caller_info-instance_method" title="#caller_info (instance method)">- ([String, Fixnum, (String, nil)]) <strong>caller_info</strong>(entry = nil) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns information about the caller of the previous method.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#check_encoding-instance_method" title="#check_encoding (instance method)">- (String) <strong>check_encoding</strong>(str) {|msg| ... }</a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Checks that the encoding of a string is valid in Ruby 1.9 and cleans up potential encoding gotchas like the UTF-8 BOM.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#check_range-instance_method" title="#check_range (instance method)">- (Numeric) <strong>check_range</strong>(name, range, value, unit = '') </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Asserts that <code>value</code> falls within <code>range</code> (inclusive), leaving room for slight floating-point errors.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#check_sass_encoding-instance_method" title="#check_sass_encoding (instance method)">- ((String, Encoding)) <strong>check_sass_encoding</strong>(str) {|msg| ... }</a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Like <span class='object_link'><a href="#check_encoding-instance_method" title="Sass::Util#check_encoding (method)">#check_encoding</a></span>, but also checks for a <code>@charset</code> declaration at the beginning of the file and uses that encoding if it exists.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#destructure-instance_method" title="#destructure (instance method)">- (Object) <strong>destructure</strong>(val) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Prepare a value for a destructuring assignment (e.g. <code>a, b = val</code>).</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#enum_cons-instance_method" title="#enum_cons (instance method)">- (Enumerator) <strong>enum_cons</strong>(enum, n) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>A version of <code>Enumerable#enum_cons</code> that works in Ruby 1.8 and 1.9.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#enum_slice-instance_method" title="#enum_slice (instance method)">- (Enumerator) <strong>enum_slice</strong>(enum, n) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>A version of <code>Enumerable#enum_slice</code> that works in Ruby 1.8 and 1.9.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#enum_with_index-instance_method" title="#enum_with_index (instance method)">- (Enumerator) <strong>enum_with_index</strong>(enum) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>A version of <code>Enumerable#enum_with_index</code> that works in Ruby 1.8 and 1.9.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#extract%21-instance_method" title="#extract! (instance method)">- (Array) <strong>extract!</strong>(array) {|el| ... }</a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Destructively removes all elements from an array that match a block, and returns the removed elements.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#extract_values-instance_method" title="#extract_values (instance method)">- ((String, Array)) <strong>extract_values</strong>(arr) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Extracts the non-string vlaues from an array containing both strings and non-strings.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#flatten-instance_method" title="#flatten (instance method)">- (Array) <strong>flatten</strong>(arr, n) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Flattens the first <code>n</code> nested arrays in a cross-version manner.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#glob-instance_method" title="#glob (instance method)">- <strong>glob</strong>(path, &amp;block) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Like <code>Dir.glob</code>, but works with backslash-separated paths on Windows.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#group_by_to_a-instance_method" title="#group_by_to_a (instance method)">- (Array&lt;[Object, Array]&gt;) <strong>group_by_to_a</strong>(enum, &amp;block) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Performs the equivalent of <code>enum.group_by.to_a</code>, but with a guaranteed order.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#has%3F-instance_method" title="#has? (instance method)">- (Boolean) <strong>has?</strong>(attr, klass, method) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Checks to see if a class has a given method.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#hash_to_a-instance_method" title="#hash_to_a (instance method)">- (Array) <strong>hash_to_a</strong>(hash) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Converts a Hash to an Array.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#inject_values-instance_method" title="#inject_values (instance method)">- (Array) <strong>inject_values</strong>(str, values) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Undoes <span class='object_link'><a href="#extract_values-instance_method" title="Sass::Util#extract_values (method)">#extract_values</a></span> by transforming a string with escape sequences into an array of strings and non-string values.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#inspect_obj-instance_method" title="#inspect_obj (instance method)">- (String) <strong>inspect_obj</strong>(obj) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Like <code>Object#inspect</code>, but preserves non-ASCII characters rather than escaping them under Ruby 1.9.2.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#intersperse-instance_method" title="#intersperse (instance method)">- (Array) <strong>intersperse</strong>(enum, val) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Intersperses a value in an enumerable, as would be done with <code>Array#join</code> but without concatenating the array together afterwards.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#ironruby%3F-instance_method" title="#ironruby? (instance method)">- (Boolean) <strong>ironruby?</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Whether or not this is running on IronRuby.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#jruby1_6%3F-instance_method" title="#jruby1_6? (instance method)">- (Boolean) <strong>jruby1_6?</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Wehter or not this is running under JRuby 1.6 or lower.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#jruby%3F-instance_method" title="#jruby? (instance method)">- (Boolean) <strong>jruby?</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Whether or not this is running on JRuby.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#jruby_version-instance_method" title="#jruby_version (instance method)">- (Array&lt;Fixnum&gt;) <strong>jruby_version</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns an array of ints representing the JRuby version number.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#lcs-instance_method" title="#lcs (instance method)">- (Array) <strong>lcs</strong>(x, y) {|a, b| ... }</a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Computes a single longest common subsequence for <code>x</code> and <code>y</code>.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#macruby%3F-instance_method" title="#macruby? (instance method)">- (Boolean) <strong>macruby?</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Whether or not this is running under MacRuby.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#map_hash-instance_method" title="#map_hash (instance method)">- (Hash) <strong>map_hash</strong>(hash) {|key, value| ... }</a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Maps the key-value pairs of a hash according to a block.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#map_keys-instance_method" title="#map_keys (instance method)">- (Hash) <strong>map_keys</strong>(hash) {|key| ... }</a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Maps the keys in a hash according to a block.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#map_vals-instance_method" title="#map_vals (instance method)">- (Hash) <strong>map_vals</strong>(hash) {|value| ... }</a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Maps the values in a hash according to a block.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#merge_adjacent_strings-instance_method" title="#merge_adjacent_strings (instance method)">- (Array) <strong>merge_adjacent_strings</strong>(arr) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Concatenates all strings that are adjacent in an array, while leaving other elements as they are.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#ord-instance_method" title="#ord (instance method)">- (Fixnum) <strong>ord</strong>(c) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the ASCII code of the given character.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#paths-instance_method" title="#paths (instance method)">- (Array&lt;Arrays&gt;) <strong>paths</strong>(arrs) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Return an array of all possible paths through the given arrays.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#powerset-instance_method" title="#powerset (instance method)">- (Set&lt;Set&gt;) <strong>powerset</strong>(arr) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Computes the powerset of the given array.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#rails_env-instance_method" title="#rails_env (instance method)">- (String<sup>?</sup>) <strong>rails_env</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the environment of the Rails application, if this is running in a Rails context.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#rails_root-instance_method" title="#rails_root (instance method)">- (String<sup>?</sup>) <strong>rails_root</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the root of the Rails application, if this is running in a Rails context.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#rbx%3F-instance_method" title="#rbx? (instance method)">- (Boolean) <strong>rbx?</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Whether or not this is running on Rubinius.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#restrict-instance_method" title="#restrict (instance method)">- (Numeric) <strong>restrict</strong>(value, range) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Restricts a number to falling within a given range.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#ruby1%3F-instance_method" title="#ruby1? (instance method)">- (Boolean) <strong>ruby1?</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Whether or not this is running under a Ruby version under 2.0.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#ruby1_8%3F-instance_method" title="#ruby1_8? (instance method)">- (Boolean) <strong>ruby1_8?</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Whether or not this is running under Ruby 1.8 or lower.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#ruby1_8_6%3F-instance_method" title="#ruby1_8_6? (instance method)">- (Boolean) <strong>ruby1_8_6?</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Whether or not this is running under Ruby 1.8.6 or lower.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#sass_warn-instance_method" title="#sass_warn (instance method)">- <strong>sass_warn</strong>(msg) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>The same as <code>Kernel#warn</code>, but is silenced by <span class='object_link'><a href="#silence_sass_warnings-instance_method" title="Sass::Util#silence_sass_warnings (method)">#silence_sass_warnings</a></span>.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#scope-instance_method" title="#scope (instance method)">- (String) <strong>scope</strong>(file) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the path of a file relative to the Sass root directory.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#set_eql%3F-instance_method" title="#set_eql? (instance method)">- (Boolean) <strong>set_eql?</strong>(set1, set2) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Tests the hash-equality of two sets in a cross-version manner.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#set_hash-instance_method" title="#set_hash (instance method)">- (Fixnum) <strong>set_hash</strong>(set) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the hash code for a set in a cross-version manner.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#silence_sass_warnings-instance_method" title="#silence_sass_warnings (instance method)">- <strong>silence_sass_warnings</strong> { ... }</a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Silences all Sass warnings within a block.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#silence_warnings-instance_method" title="#silence_warnings (instance method)">- <strong>silence_warnings</strong> { ... }</a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Silence all output to STDERR within a block.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#strip_string_array-instance_method" title="#strip_string_array (instance method)">- (Array) <strong>strip_string_array</strong>(arr) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Destructively strips whitespace from the beginning and end of the first and last elements, respectively, in the array (if those elements are strings).</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#subsequence%3F-instance_method" title="#subsequence? (instance method)">- (Boolean) <strong>subsequence?</strong>(seq1, seq2) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns whether or not <code>seq1</code> is a subsequence of <code>seq2</code>.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#substitute-instance_method" title="#substitute (instance method)">- <strong>substitute</strong>(ary, from, to) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Substitutes a sub-array of one array with another sub-array.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#to_hash-instance_method" title="#to_hash (instance method)">- (Hash) <strong>to_hash</strong>(arr) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Converts an array of <code>[key, value]</code> pairs to a hash.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#undefined_conversion_error_char-instance_method" title="#undefined_conversion_error_char (instance method)">- (String) <strong>undefined_conversion_error_char</strong>(e) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns a string description of the character that caused an <code>Encoding::UndefinedConversionError</code>.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#version_geq-instance_method" title="#version_geq (instance method)">- (Boolean) <strong>version_geq</strong>(v1, v2) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns whether one version string represents the same or a more recent version than another.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#version_gt-instance_method" title="#version_gt (instance method)">- (Boolean) <strong>version_gt</strong>(v1, v2) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns whether one version string represents a more recent version than another.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#windows%3F-instance_method" title="#windows? (instance method)">- (Boolean) <strong>windows?</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Whether or not this is running on Windows.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#with_extracted_values-instance_method" title="#with_extracted_values (instance method)">- (Array) <strong>with_extracted_values</strong>(arr) {|str| ... }</a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Allows modifications to be performed on the string form of an array containing both strings and non-strings.</p>
</div></span>
  
</li>

      
    </ul>
  



  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="abstract-instance_method">
  
    - <strong>abstract</strong>(obj) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Throws a NotImplementedError for an abstract method.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>obj</span>
      
      
        <span class='type'>(<tt>Object</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p><code>self</code></p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt>NotImplementedError</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


381
382
383</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/Users/jlong/Workspaces/sass-lang.org/.sass/lib/sass/util.rb', line 381</span>

def abstract(obj)
  raise NotImplementedError.new(&quot;#{obj.class} must implement ##{caller_info[2]}&quot;)
end</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="ap_geq?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>ap_geq?</strong>(version) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns whether this environment is using ActionPack of a version greater than or equal to that specified.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>version</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The string version number to check against. Should be greater than or equal to Rails 3, because otherwise ActionPack::VERSION isnâ€™t autoloaded</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


456
457
458
459
460
461
462</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/Users/jlong/Workspaces/sass-lang.org/.sass/lib/sass/util.rb', line 456</span>

def ap_geq?(version)
  # The ActionPack module is always loaded automatically in Rails &gt;= 3
  return false unless defined?(ActionPack) &amp;&amp; defined?(ActionPack::VERSION) &amp;&amp;
    defined?(ActionPack::VERSION::STRING)

  version_geq(ActionPack::VERSION::STRING, version)
end</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="ap_geq_3?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>ap_geq_3?</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns whether this environment is using ActionPack version 3.0.0 or greater.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


445
446
447</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/Users/jlong/Workspaces/sass-lang.org/.sass/lib/sass/util.rb', line 445</span>

def ap_geq_3?
  ap_geq?(&quot;3.0.0.beta1&quot;)
end</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="array_minus-instance_method">
  
    - (<tt>Array</tt>) <strong>array_minus</strong>(minuend, subtrahend) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns a sub-array of <code>minuend</code> containing only elements that are also in <code>subtrahend</code>. Ensures that the return value has the same order as <code>minuend</code>, even on Rubinius where that???s not guaranteed by Array#-.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>minuend</span>
      
      
        <span class='type'>(<tt>Array</tt>)</span>
      
      
      
    </li>
  
    <li>
      
        <span class='name'>subtrahend</span>
      
      
        <span class='type'>(<tt>Array</tt>)</span>
      
      
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Array</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


267
268
269
270
271</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/Users/jlong/Workspaces/sass-lang.org/.sass/lib/sass/util.rb', line 267</span>

def array_minus(minuend, subtrahend)
  return minuend - subtrahend unless rbx?
  set = Set.new(minuend) - subtrahend
  minuend.select {|e| set.include?(e)}
end</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="atomic_create_and_write_file-instance_method">
  
    - <strong>atomic_create_and_write_file</strong>(filename) {|tmpfile| ... }
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>This creates a temp file and yields it for writing. When the write is complete, the file is moved into the desired location. The atomicity of this operation is provided by the filesystem???s rename operation.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>filename</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The file to write to.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Yield Parameters:</p>
<ul class="yieldparam">
  
    <li>
      
        <span class='name'>tmpfile</span>
      
      
        <span class='type'>(<tt>Tempfile</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The temp file that can be written to.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'></span>
      
      
      
        
        <div class='inline'>
<p>The value returned by the block.</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


880
881
882
883
884
885
886
887
888
889
890
891
892
893</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/Users/jlong/Workspaces/sass-lang.org/.sass/lib/sass/util.rb', line 880</span>

def atomic_create_and_write_file(filename)
  require 'tempfile'
  tmpfile = Tempfile.new(File.basename(filename), File.dirname(filename))
  tmp_path = tmpfile.path
  tmpfile.binmode if tmpfile.respond_to?(:binmode)
  result = yield tmpfile
  File.rename tmpfile.path, filename
  result
ensure
  # close and remove the tempfile if it still exists,
  # presumably due to an error during write
  tmpfile.close if tmpfile
  tmpfile.unlink if tmpfile
end</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="av_template_class-instance_method">
  
    - <strong>av_template_class</strong>(name) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns an ActionView::Template* class. In pre-3.0 versions of Rails, most of these classes were of the form <code>ActionView::TemplateFoo</code>, while afterwards they were of the form <code>ActionView;:Template::Foo</code>.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>name</span>
      
      
        <span class='type'>(<tt>#to_s</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The name of the class to get. For example, <code>:Error</code> will return <code>ActionView::TemplateError</code> or <code>ActionView::Template::Error</code>.</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


472
473
474
475</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/Users/jlong/Workspaces/sass-lang.org/.sass/lib/sass/util.rb', line 472</span>

def av_template_class(name)
  return ActionView.const_get(&quot;Template#{name}&quot;) if ActionView.const_defined?(&quot;Template#{name}&quot;)
  return ActionView::Template.const_get(name.to_s)
end</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="caller_info-instance_method">
  
    - (<tt>[String, Fixnum, (String, nil)]</tt>) <strong>caller_info</strong>(entry = nil) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns information about the caller of the previous method.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>entry</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>An entry in the <code>#caller</code> list, or a similarly formatted string</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>[String, Fixnum, (String, nil)]</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>An array containing the filename, line, and method name of the caller. The method name may be nil</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


329
330
331
332
333
334
335
336
337</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/Users/jlong/Workspaces/sass-lang.org/.sass/lib/sass/util.rb', line 329</span>

def caller_info(entry = nil)
  # JRuby evaluates `caller` incorrectly when it's in an actual default argument.
  entry ||= caller[1]
  info = entry.scan(/^(.*?):(-?.*?)(?::.*`(.+)')?$/).first
  info[1] = info[1].to_i
  # This is added by Rubinius to designate a block, but we don't care about it.
  info[2].sub!(/ \{\}\Z/, '') if info[2]
  info
end</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="check_encoding-instance_method">
  
    - (<tt>String</tt>) <strong>check_encoding</strong>(str) {|msg| ... }
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Checks that the encoding of a string is valid in Ruby 1.9 and cleans up potential encoding gotchas like the UTF-8 BOM. If it???s not, yields an error string describing the invalid character and the line on which it occurrs.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>str</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The string of which to check the encoding</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Yields:</p>
<ul class="yield">
  
    <li>
      
      
        <span class='type'>(<tt>msg</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>A block in which an encoding error can be raised. Only yields if there is an encoding error</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Yield Parameters:</p>
<ul class="yieldparam">
  
    <li>
      
        <span class='name'>msg</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The error message to be raised</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p><code>str</code>, potentially with encoding gotchas like BOMs removed</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


586
587
588
589
590
591
592
593
594
595
596
597
598
599
600
601
602
603
604
605
606
607
608
609
610</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/Users/jlong/Workspaces/sass-lang.org/.sass/lib/sass/util.rb', line 586</span>

def check_encoding(str)
  if ruby1_8?
    return str.gsub(/\A\xEF\xBB\xBF/, '') # Get rid of the UTF-8 BOM
  elsif str.valid_encoding?
    # Get rid of the Unicode BOM if possible
    if str.encoding.name =~ /^UTF-(8|16|32)(BE|LE)?$/
      return str.gsub(Regexp.new(&quot;\\A\uFEFF&quot;.encode(str.encoding.name)), '')
    else
      return str
    end
  end

  encoding = str.encoding
  newlines = Regexp.new(&quot;\r\n|\r|\n&quot;.encode(encoding).force_encoding(&quot;binary&quot;))
  str.force_encoding(&quot;binary&quot;).split(newlines).each_with_index do |line, i|
    begin
      line.encode(encoding)
    rescue Encoding::UndefinedConversionError =&gt; e
      yield &lt;&lt;MSG.rstrip, i + 1
Invalid #{encoding.name} character #{undefined_conversion_error_char(e)}
MSG
    end
  end
  return str
end</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="check_range-instance_method">
  
    - (<tt>Numeric</tt>) <strong>check_range</strong>(name, range, value, unit = '') 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Asserts that <code>value</code> falls within <code>range</code> (inclusive), leaving room for slight floating-point errors.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>name</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The name of the value. Used in the error message.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>range</span>
      
      
        <span class='type'>(<tt>Range</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The allowed range of values.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>value</span>
      
      
        <span class='type'>(<tt>Numeric</tt>, <tt><span class='object_link'><a href="Script/Number.html" title="Sass::Script::Number (class)">Sass::Script::Number</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The value to check.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>unit</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>''</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>The unit of the value. Used in error reporting.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Numeric</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p><code>value</code> adjusted to fall within range, if it was outside by a floating-point margin.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt>ArgumentError</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


296
297
298
299
300
301
302
303
304
305</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/Users/jlong/Workspaces/sass-lang.org/.sass/lib/sass/util.rb', line 296</span>

def check_range(name, range, value, unit='')
  grace = (-0.00001..0.00001)
  str = value.to_s
  value = value.value if value.is_a?(Sass::Script::Number)
  return value if range.include?(value)
  return range.first if grace.include?(value - range.first)
  return range.last if grace.include?(value - range.last)
  raise ArgumentError.new(
    &quot;#{name} #{str} must be between #{range.first}#{unit} and #{range.last}#{unit}&quot;)
end</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="check_sass_encoding-instance_method">
  
    - (<tt>(String, Encoding)</tt>) <strong>check_sass_encoding</strong>(str) {|msg| ... }
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Like <span class='object_link'><a href="#check_encoding-instance_method" title="Sass::Util#check_encoding (method)">#check_encoding</a></span>, but also checks for a <code>@charset</code> declaration at the beginning of the file and uses that encoding if it exists.</p>

<p>The Sass encoding rules are simple. If a <code>@charset</code> declaration exists, we assume that that???s the original encoding of the document. Otherwise, we use whatever encoding Ruby has. Then we convert that to UTF-8 to process internally. The UTF-8 end result is what???s returned by this method.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>str</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The string of which to check the encoding</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Yields:</p>
<ul class="yield">
  
    <li>
      
      
        <span class='type'>(<tt>msg</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>A block in which an encoding error can be raised. Only yields if there is an encoding error</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Yield Parameters:</p>
<ul class="yieldparam">
  
    <li>
      
        <span class='name'>msg</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The error message to be raised</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>(String, Encoding)</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The original string encoded as UTF-8, and the source encoding of the string (or <code>nil</code> under Ruby 1.8)</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt>Encoding::UndefinedConversionError</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>if the source encoding cannot be converted to UTF-8</p>
</div>
      
    </li>
  
    <li>
      
      
        <span class='type'>(<tt>ArgumentError</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>if the document uses an unknown encoding with <code>@charset</code></p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


631
632
633
634
635
636
637
638
639
640
641
642
643
644
645
646
647
648
649
650
651
652
653
654
655
656</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/Users/jlong/Workspaces/sass-lang.org/.sass/lib/sass/util.rb', line 631</span>

def check_sass_encoding(str, &amp;block)
  return check_encoding(str, &amp;block), nil if ruby1_8?
  # We allow any printable ASCII characters but double quotes in the charset decl
  bin = str.dup.force_encoding(&quot;BINARY&quot;)
  encoding = Sass::Util::ENCODINGS_TO_CHECK.find do |enc|
    re = Sass::Util::CHARSET_REGEXPS[enc]
    re &amp;&amp; bin =~ re
  end
  charset, bom = $1, $2
  if charset
    charset = charset.force_encoding(encoding).encode(&quot;UTF-8&quot;)
    if endianness = encoding[/[BL]E$/]
      begin
        Encoding.find(charset + endianness)
        charset &lt;&lt; endianness
      rescue ArgumentError # Encoding charset + endianness doesn't exist
      end
    end
    str.force_encoding(charset)
  elsif bom
    str.force_encoding(encoding)
  end

  str = check_encoding(str, &amp;block)
  return str.encode(&quot;UTF-8&quot;), str.encoding
end</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="destructure-instance_method">
  
    - (<tt>Object</tt>) <strong>destructure</strong>(val) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Prepare a value for a destructuring assignment (e.g. <code>a, b =
val</code>). This works around a performance bug when using ActiveSupport, and only needs to be called when <code>val</code> is likely to be <code>nil</code> reasonably often.</p>

<p>See <a href="http://redmine.ruby-lang.org/issues/4917">this bug report</a>.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>val</span>
      
      
        <span class='type'>(<tt>Object</tt>)</span>
      
      
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Object</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


531
532
533</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/Users/jlong/Workspaces/sass-lang.org/.sass/lib/sass/util.rb', line 531</span>

def destructure(val)
  val || []
end</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="enum_cons-instance_method">
  
    - (<tt>Enumerator</tt>) <strong>enum_cons</strong>(enum, n) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>A version of <code>Enumerable#enum_cons</code> that works in Ruby 1.8 and 1.9.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>enum</span>
      
      
        <span class='type'>(<tt>Enumerable</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The enumerable to get the enumerator for</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>n</span>
      
      
        <span class='type'>(<tt>Fixnum</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The size of each cons</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Enumerator</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The consed enumerator</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


718
719
720</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/Users/jlong/Workspaces/sass-lang.org/.sass/lib/sass/util.rb', line 718</span>

def enum_cons(enum, n)
  ruby1_8? ? enum.enum_cons(n) : enum.each_cons(n)
end</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="enum_slice-instance_method">
  
    - (<tt>Enumerator</tt>) <strong>enum_slice</strong>(enum, n) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>A version of <code>Enumerable#enum_slice</code> that works in Ruby 1.8 and 1.9.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>enum</span>
      
      
        <span class='type'>(<tt>Enumerable</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The enumerable to get the enumerator for</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>n</span>
      
      
        <span class='type'>(<tt>Fixnum</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The size of each slice</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Enumerator</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The consed enumerator</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


727
728
729</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/Users/jlong/Workspaces/sass-lang.org/.sass/lib/sass/util.rb', line 727</span>

def enum_slice(enum, n)
  ruby1_8? ? enum.enum_slice(n) : enum.each_slice(n)
end</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="enum_with_index-instance_method">
  
    - (<tt>Enumerator</tt>) <strong>enum_with_index</strong>(enum) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>A version of <code>Enumerable#enum_with_index</code> that works in Ruby 1.8 and 1.9.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>enum</span>
      
      
        <span class='type'>(<tt>Enumerable</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The enumerable to get the enumerator for</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Enumerator</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The with-index enumerator</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


709
710
711</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/Users/jlong/Workspaces/sass-lang.org/.sass/lib/sass/util.rb', line 709</span>

def enum_with_index(enum)
  ruby1_8? ? enum.enum_with_index : enum.each_with_index
end</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="extract!-instance_method">
  
    - (<tt>Array</tt>) <strong>extract!</strong>(array) {|el| ... }
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Destructively removes all elements from an array that match a block, and returns the removed elements.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>array</span>
      
      
        <span class='type'>(<tt>Array</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The array from which to remove elements.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Yields:</p>
<ul class="yield">
  
    <li>
      
      
        <span class='type'>(<tt>el</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Called for each element.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Yield Parameters:</p>
<ul class="yieldparam">
  
    <li>
      
        <span class='name'>el</span>
      
      
        <span class='type'>(<tt>*</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The element to test.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Yield Returns:</p>
<ul class="yieldreturn">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Whether or not to extract the element.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Array</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The extracted elements.</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


739
740
741
742
743
744
745
746
747</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/Users/jlong/Workspaces/sass-lang.org/.sass/lib/sass/util.rb', line 739</span>

def extract!(array)
  out = []
  array.reject! do |e|
    next false unless yield e
    out &lt;&lt; e
    true
  end
  out
end</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="extract_values-instance_method">
  
    - (<tt>(String, Array)</tt>) <strong>extract_values</strong>(arr) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Extracts the non-string vlaues from an array containing both strings and non-strings. These values are replaced with escape sequences. This can be undone using <span class='object_link'><a href="#inject_values-instance_method" title="Sass::Util#inject_values (method)">#inject_values</a></span>.</p>

<p>This is useful e.g. when we want to do string manipulation on an interpolated string.</p>

<p>The precise format of the resulting string is not guaranteed. However, it is guaranteed that newlines and whitespace won???t be affected.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>arr</span>
      
      
        <span class='type'>(<tt>Array</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The array from which values are extracted.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>(String, Array)</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The resulting string, and an array of extracted values.</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


814
815
816
817
818
819
820
821</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/Users/jlong/Workspaces/sass-lang.org/.sass/lib/sass/util.rb', line 814</span>

def extract_values(arr)
  values = []
  return arr.map do |e|
    next e.gsub('{', '{{') if e.is_a?(String)
    values &lt;&lt; e
    next &quot;{#{values.count - 1}}&quot;
  end.join, values
end</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="flatten-instance_method">
  
    - (<tt>Array</tt>) <strong>flatten</strong>(arr, n) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Flattens the first <code>n</code> nested arrays in a cross-version manner.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>arr</span>
      
      
        <span class='type'>(<tt>Array</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The array to flatten</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>n</span>
      
      
        <span class='type'>(<tt>Fixnum</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The number of levels to flatten</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Array</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The flattened array</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


762
763
764
765
766</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/Users/jlong/Workspaces/sass-lang.org/.sass/lib/sass/util.rb', line 762</span>

def flatten(arr, n)
  return arr.flatten(n) unless ruby1_8_6?
  return arr if n == 0
  arr.inject([]) {|res, e| e.is_a?(Array) ? res.concat(flatten(e, n - 1)) : res &lt;&lt; e}
end</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="glob-instance_method">
  
    - <strong>glob</strong>(path, &amp;block) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Like <code>Dir.glob</code>, but works with backslash-separated paths on Windows.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>path</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


517
518
519
520</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/Users/jlong/Workspaces/sass-lang.org/.sass/lib/sass/util.rb', line 517</span>

def glob(path, &amp;block)
  path = path.gsub('\\', '/') if windows?
  Dir.glob(path, &amp;block)
end</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="group_by_to_a-instance_method">
  
    - (<tt>Array&lt;[Object, Array]&gt;</tt>) <strong>group_by_to_a</strong>(enum, &amp;block) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Performs the equivalent of <code>enum.group_by.to_a</code>, but with a guaranteed order. Unlike [#hash_to_a], the resulting order isn???t sorted key order; instead, it???s the same order as <code>#group_by</code> has under Ruby 1.9 (key appearance order).</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>enum</span>
      
      
        <span class='type'>(<tt>Enumerable</tt>)</span>
      
      
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Array&lt;[Object, Array]&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>An array of pairs.</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


244
245
246
247
248
249
250
251
252
253
254
255
256
257
258</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/Users/jlong/Workspaces/sass-lang.org/.sass/lib/sass/util.rb', line 244</span>

def group_by_to_a(enum, &amp;block)
  return enum.group_by(&amp;block).to_a unless ruby1_8?
  order = {}
  arr = []
  enum.group_by do |e|
    res = block[e]
    unless order.include?(res)
      order[res] = order.size
    end
    res
  end.each do |key, vals|
    arr[order[key]] = [key, vals]
  end
  arr
end</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="has?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>has?</strong>(attr, klass, method) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Checks to see if a class has a given method. For example:</p>

<pre class="code ruby"><code class="ruby">Sass::Util.has?(:public_instance_method, String, :gsub) #=&gt; true</code></pre>

<p>Method collections like <code>Class#instance_methods</code> return strings in Ruby 1.8 and symbols in Ruby 1.9 and on, so this handles checking for them in a compatible way.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>attr</span>
      
      
        <span class='type'>(<tt>#to_s</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The (singular) name of the method-collection method (e.g. <code>:instance_methods</code>, <code>:private_methods</code>)</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>klass</span>
      
      
        <span class='type'>(<tt>Module</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The class to check the methods of which to check</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>method</span>
      
      
        <span class='type'>(<tt>String</tt>, <tt>Symbol</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The name of the method do check for</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Whether or not the given collection has the given method</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


701
702
703</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/Users/jlong/Workspaces/sass-lang.org/.sass/lib/sass/util.rb', line 701</span>

def has?(attr, klass, method)
  klass.send(&quot;#{attr}s&quot;).include?(ruby1_8? ? method.to_s : method.to_sym)
end</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="hash_to_a-instance_method">
  
    - (<tt>Array</tt>) <strong>hash_to_a</strong>(hash) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Converts a Hash to an Array. This is usually identical to <code>Hash#to_a</code>, with the following exceptions:</p>

<ul>
<li>In Ruby 1.8, <code>Hash#to_a</code> is not deterministically ordered, but this is.</li>

<li>In Ruby 1.9 when running tests, this is ordered in the same way it would be under Ruby 1.8 (sorted key order rather than insertion order).</li>
</ul>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>hash</span>
      
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Array</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


232
233
234
235</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/Users/jlong/Workspaces/sass-lang.org/.sass/lib/sass/util.rb', line 232</span>

def hash_to_a(hash)
  return hash.to_a unless ruby1_8? || defined?(Test::Unit)
  return hash.sort_by {|k, v| k}
end</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="inject_values-instance_method">
  
    - (<tt>Array</tt>) <strong>inject_values</strong>(str, values) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Undoes <span class='object_link'><a href="#extract_values-instance_method" title="Sass::Util#extract_values (method)">#extract_values</a></span> by transforming a string with escape sequences into an array of strings and non-string values.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>str</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The string with escape sequences.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>values</span>
      
      
        <span class='type'>(<tt>Array</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The array of values to inject.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Array</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The array of strings and values.</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


829
830
831
832
833
834
835
836
837</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/Users/jlong/Workspaces/sass-lang.org/.sass/lib/sass/util.rb', line 829</span>

def inject_values(str, values)
  return [str.gsub('{{', '{')] if values.empty?
  # Add an extra { so that we process the tail end of the string
  result = (str + '{{').scan(/(.*?)(?:(\{\{)|\{(\d+)\})/m).map do |(pre, esc, n)|
    [pre, esc ? '{' : '', n ? values[n.to_i] : '']
  end.flatten(1)
  result[-2] = '' # Get rid of the extra {
  merge_adjacent_strings(result).reject {|s| s == ''}
end</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="inspect_obj-instance_method">
  
    - (<tt>String</tt>) <strong>inspect_obj</strong>(obj) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Like <code>Object#inspect</code>, but preserves non-ASCII characters rather than escaping them under Ruby 1.9.2. This is necessary so that the precompiled Haml template can be <code>#encode</code>d into <code>@options[:encoding]</code> before being evaluated.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>obj</span>
      
      
        <span class='type'>(<tt>Object</tt>)</span>
      
      
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


795
796
797
798
799
800</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/Users/jlong/Workspaces/sass-lang.org/.sass/lib/sass/util.rb', line 795</span>

def inspect_obj(obj)
  return obj.inspect unless version_geq(::RUBY_VERSION, &quot;1.9.2&quot;)
  return ':' + inspect_obj(obj.to_s) if obj.is_a?(Symbol)
  return obj.inspect unless obj.is_a?(String)
  '&quot;' + obj.gsub(/[\x00-\x7F]+/) {|s| s.inspect[1...-1]} + '&quot;'
end</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="intersperse-instance_method">
  
    - (<tt>Array</tt>) <strong>intersperse</strong>(enum, val) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Intersperses a value in an enumerable, as would be done with <code>Array#join</code> but without concatenating the array together afterwards.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>enum</span>
      
      
        <span class='type'>(<tt>Enumerable</tt>)</span>
      
      
      
    </li>
  
    <li>
      
        <span class='name'>val</span>
      
      
        <span class='type'></span>
      
      
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Array</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


155
156
157</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/Users/jlong/Workspaces/sass-lang.org/.sass/lib/sass/util.rb', line 155</span>

def intersperse(enum, val)
  enum.inject([]) {|a, e| a &lt;&lt; e &lt;&lt; val}[0...-1]
end</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="ironruby?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>ironruby?</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Whether or not this is running on IronRuby.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


489
490
491</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/Users/jlong/Workspaces/sass-lang.org/.sass/lib/sass/util.rb', line 489</span>

def ironruby?
  RUBY_ENGINE == &quot;ironruby&quot;
end</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="jruby1_6?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>jruby1_6?</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Wehter or not this is running under JRuby 1.6 or lower.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


565
566
567</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/Users/jlong/Workspaces/sass-lang.org/.sass/lib/sass/util.rb', line 565</span>

def jruby1_6?
  jruby? &amp;&amp; jruby_version[0] == 1 &amp;&amp; jruby_version[1] &lt; 7
end</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="jruby?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>jruby?</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Whether or not this is running on JRuby.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


503
504
505</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/Users/jlong/Workspaces/sass-lang.org/.sass/lib/sass/util.rb', line 503</span>

def jruby?
  RUBY_PLATFORM =~ /java/
end</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="jruby_version-instance_method">
  
    - (<tt>Array&lt;Fixnum&gt;</tt>) <strong>jruby_version</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns an array of ints representing the JRuby version number.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Array&lt;Fixnum&gt;</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


510
511
512</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/Users/jlong/Workspaces/sass-lang.org/.sass/lib/sass/util.rb', line 510</span>

def jruby_version
  $jruby_version ||= ::JRUBY_VERSION.split(&quot;.&quot;).map {|s| s.to_i}
end</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="lcs-instance_method">
  
    - (<tt>Array</tt>) <strong>lcs</strong>(x, y) {|a, b| ... }
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Computes a single longest common subsequence for <code>x</code> and <code>y</code>. If there are more than one longest common subsequences, the one returned is that which starts first in <code>x</code>.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>x</span>
      
      
        <span class='type'>(<tt>Array</tt>)</span>
      
      
      
    </li>
  
    <li>
      
        <span class='name'>y</span>
      
      
        <span class='type'>(<tt>Array</tt>)</span>
      
      
      
    </li>
  
</ul>

<p class="tag_title">Yields:</p>
<ul class="yield">
  
    <li>
      
      
        <span class='type'>(<tt>a</tt>, <tt>b</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>An optional block to use in place of a check for equality between elements of <code>x</code> and <code>y</code>.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Yield Returns:</p>
<ul class="yieldreturn">
  
    <li>
      
      
        <span class='type'>(<tt>Object</tt>, <tt>nil</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>If the two values register as equal, this will return the value to use in the LCS array.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Array</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The LCS</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


216
217
218
219
220
221</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/Users/jlong/Workspaces/sass-lang.org/.sass/lib/sass/util.rb', line 216</span>

def lcs(x, y, &amp;block)
  x = [nil, *x]
  y = [nil, *y]
  block ||= proc {|a, b| a == b &amp;&amp; a}
  lcs_backtrace(lcs_table(x, y, &amp;block), x, y, x.size-1, y.size-1, &amp;block)
end</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="macruby?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>macruby?</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Whether or not this is running under MacRuby.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


572
573
574</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/Users/jlong/Workspaces/sass-lang.org/.sass/lib/sass/util.rb', line 572</span>

def macruby?
  RUBY_ENGINE == 'macruby'
end</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="map_hash-instance_method">
  
    - (<tt>Hash</tt>) <strong>map_hash</strong>(hash) {|key, value| ... }
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Maps the key-value pairs of a hash according to a block.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code"><code>map_hash({:foo =&gt; &quot;bar&quot;, :baz =&gt; &quot;bang&quot;}) {|k, v| [k.to_s, v.to_sym]}
  #=&gt; {&quot;foo&quot; =&gt; :bar, &quot;baz&quot; =&gt; :bang}</code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>hash</span>
      
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The hash to map</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Yields:</p>
<ul class="yield">
  
    <li>
      
      
        <span class='type'>(<tt>key</tt>, <tt>value</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>A block in which the key-value pairs are transformed</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Yield Parameters:</p>
<ul class="yieldparam">
  
    <li>
      
        <span class='name'>The</span>
      
      
        <span class='type'>(<tt>key</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>hash key</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>The</span>
      
      
        <span class='type'>(<tt>value</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>hash value</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Yield Returns:</p>
<ul class="yieldreturn">
  
    <li>
      
      
        <span class='type'>(<tt>(Object, Object)</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The new value for the <code>[key, value]</code> pair</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The mapped hash</p>
</div>
      
    </li>
  
</ul>

  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li><span class='object_link'><a href="#map_keys-instance_method" title="Sass::Util#map_keys (method)">#map_keys</a></span></li>
    
      <li><span class='object_link'><a href="#map_vals-instance_method" title="Sass::Util#map_vals (method)">#map_vals</a></span></li>
    
  </ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


89
90
91
92</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/Users/jlong/Workspaces/sass-lang.org/.sass/lib/sass/util.rb', line 89</span>

def map_hash(hash)
  # Using &amp;block here completely hoses performance on 1.8.
  to_hash(hash.map {|k, v| yield k, v})
end</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="map_keys-instance_method">
  
    - (<tt>Hash</tt>) <strong>map_keys</strong>(hash) {|key| ... }
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Maps the keys in a hash according to a block.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code"><code>map_keys({:foo =&gt; &quot;bar&quot;, :baz =&gt; &quot;bang&quot;}) {|k| k.to_s}
  #=&gt; {&quot;foo&quot; =&gt; &quot;bar&quot;, &quot;baz&quot; =&gt; &quot;bang&quot;}</code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>hash</span>
      
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The hash to map</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Yields:</p>
<ul class="yield">
  
    <li>
      
      
        <span class='type'>(<tt>key</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>A block in which the keys are transformed</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Yield Parameters:</p>
<ul class="yieldparam">
  
    <li>
      
        <span class='name'>key</span>
      
      
        <span class='type'>(<tt>Object</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The key that should be mapped</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Yield Returns:</p>
<ul class="yieldreturn">
  
    <li>
      
      
        <span class='type'>(<tt>Object</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The new value for the key</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The mapped hash</p>
</div>
      
    </li>
  
</ul>

  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li><span class='object_link'><a href="#map_vals-instance_method" title="Sass::Util#map_vals (method)">#map_vals</a></span></li>
    
      <li><span class='object_link'><a href="#map_hash-instance_method" title="Sass::Util#map_hash (method)">#map_hash</a></span></li>
    
  </ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


56
57
58</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/Users/jlong/Workspaces/sass-lang.org/.sass/lib/sass/util.rb', line 56</span>

def map_keys(hash)
  to_hash(hash.map {|k, v| [yield(k), v]})
end</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="map_vals-instance_method">
  
    - (<tt>Hash</tt>) <strong>map_vals</strong>(hash) {|value| ... }
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Maps the values in a hash according to a block.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code"><code>map_values({:foo =&gt; &quot;bar&quot;, :baz =&gt; &quot;bang&quot;}) {|v| v.to_sym}
  #=&gt; {:foo =&gt; :bar, :baz =&gt; :bang}</code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>hash</span>
      
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The hash to map</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Yields:</p>
<ul class="yield">
  
    <li>
      
      
        <span class='type'>(<tt>value</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>A block in which the values are transformed</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Yield Parameters:</p>
<ul class="yieldparam">
  
    <li>
      
        <span class='name'>value</span>
      
      
        <span class='type'>(<tt>Object</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The value that should be mapped</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Yield Returns:</p>
<ul class="yieldreturn">
  
    <li>
      
      
        <span class='type'>(<tt>Object</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The new value for the value</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The mapped hash</p>
</div>
      
    </li>
  
</ul>

  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li><span class='object_link'><a href="#map_keys-instance_method" title="Sass::Util#map_keys (method)">#map_keys</a></span></li>
    
      <li><span class='object_link'><a href="#map_hash-instance_method" title="Sass::Util#map_hash (method)">#map_hash</a></span></li>
    
  </ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


72
73
74</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/Users/jlong/Workspaces/sass-lang.org/.sass/lib/sass/util.rb', line 72</span>

def map_vals(hash)
  to_hash(hash.map {|k, v| [k, yield(v)]})
end</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="merge_adjacent_strings-instance_method">
  
    - (<tt>Array</tt>) <strong>merge_adjacent_strings</strong>(arr) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Concatenates all strings that are adjacent in an array, while leaving other elements as they are.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code"><code>merge_adjacent_strings([1, &quot;foo&quot;, &quot;bar&quot;, 2, &quot;baz&quot;])
  #=&gt; [1, &quot;foobar&quot;, 2, &quot;baz&quot;]</code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>arr</span>
      
      
        <span class='type'>(<tt>Array</tt>)</span>
      
      
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Array</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The enumerable with strings merged</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/Users/jlong/Workspaces/sass-lang.org/.sass/lib/sass/util.rb', line 132</span>

def merge_adjacent_strings(arr)
  # Optimize for the common case of one element
  return arr if arr.size &lt; 2
  arr.inject([]) do |a, e|
    if e.is_a?(String)
      if a.last.is_a?(String)
        a.last &lt;&lt; e
      else
        a &lt;&lt; e.dup
      end
    else
      a &lt;&lt; e
    end
    a
  end
end</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="ord-instance_method">
  
    - (<tt>Fixnum</tt>) <strong>ord</strong>(c) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the ASCII code of the given character.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>c</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>All characters but the first are ignored.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Fixnum</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The ASCII code of <code>c</code>.</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


753
754
755</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/Users/jlong/Workspaces/sass-lang.org/.sass/lib/sass/util.rb', line 753</span>

def ord(c)
  ruby1_8? ? c[0] : c.ord
end</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="paths-instance_method">
  
    - (<tt>Array&lt;Arrays&gt;</tt>) <strong>paths</strong>(arrs) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Return an array of all possible paths through the given arrays.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code"><code>paths([[1, 2], [3, 4], [5]]) #=&gt;
  # [[1, 3, 5],
  #  [2, 3, 5],
  #  [1, 4, 5],
  #  [2, 4, 5]]</code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>arrs</span>
      
      
        <span class='type'>(<tt>Array&lt;Array&gt;</tt>)</span>
      
      
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Array&lt;Arrays&gt;</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


199
200
201
202
203</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/Users/jlong/Workspaces/sass-lang.org/.sass/lib/sass/util.rb', line 199</span>

def paths(arrs)
  arrs.inject([[]]) do |paths, arr|
    flatten(arr.map {|e| paths.map {|path| path + [e]}}, 1)
  end
end</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="powerset-instance_method">
  
    - (<tt>Set&lt;Set&gt;</tt>) <strong>powerset</strong>(arr) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Computes the powerset of the given array. This is the set of all subsets of the array.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code"><code>powerset([1, 2, 3]) #=&gt;
  Set[Set[], Set[1], Set[2], Set[3], Set[1, 2], Set[2, 3], Set[1, 3], Set[1, 2, 3]]</code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>arr</span>
      
      
        <span class='type'>(<tt>Enumerable</tt>)</span>
      
      
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Set&lt;Set&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The subsets of <code>arr</code></p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


102
103
104
105
106
107
108
109
110
111</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/Users/jlong/Workspaces/sass-lang.org/.sass/lib/sass/util.rb', line 102</span>

def powerset(arr)
  arr.inject([Set.new].to_set) do |powerset, el|
    new_powerset = Set.new
    powerset.each do |subset|
      new_powerset &lt;&lt; subset
      new_powerset &lt;&lt; subset + [el]
    end
    new_powerset
  end
end</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="rails_env-instance_method">
  
    - (<tt>String</tt><sup>?</sup>) <strong>rails_env</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the environment of the Rails application, if this is running in a Rails context. Returns <code>nil</code> if no such environment is defined.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>String</tt>, <tt>nil</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


435
436
437
438
439</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/Users/jlong/Workspaces/sass-lang.org/.sass/lib/sass/util.rb', line 435</span>

def rails_env
  return ::Rails.env.to_s if defined?(::Rails.env)
  return RAILS_ENV.to_s if defined?(RAILS_ENV)
  return nil
end</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="rails_root-instance_method">
  
    - (<tt>String</tt><sup>?</sup>) <strong>rails_root</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the root of the Rails application, if this is running in a Rails context. Returns <code>nil</code> if no such root is defined.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>String</tt>, <tt>nil</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


421
422
423
424
425
426
427
428</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/Users/jlong/Workspaces/sass-lang.org/.sass/lib/sass/util.rb', line 421</span>

def rails_root
  if defined?(::Rails.root)
    return ::Rails.root.to_s if ::Rails.root
    raise &quot;ERROR: Rails.root is nil!&quot;
  end
  return RAILS_ROOT.to_s if defined?(RAILS_ROOT)
  return nil
end</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="rbx?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>rbx?</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Whether or not this is running on Rubinius.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


496
497
498</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/Users/jlong/Workspaces/sass-lang.org/.sass/lib/sass/util.rb', line 496</span>

def rbx?
  RUBY_ENGINE == &quot;rbx&quot;
end</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="restrict-instance_method">
  
    - (<tt>Numeric</tt>) <strong>restrict</strong>(value, range) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Restricts a number to falling within a given range. Returns the number if it falls within the range, or the closest value in the range if it doesn???t.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>value</span>
      
      
        <span class='type'>(<tt>Numeric</tt>)</span>
      
      
      
    </li>
  
    <li>
      
        <span class='name'>range</span>
      
      
        <span class='type'>(<tt>Range&lt;Numeric&gt;</tt>)</span>
      
      
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Numeric</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


120
121
122</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/Users/jlong/Workspaces/sass-lang.org/.sass/lib/sass/util.rb', line 120</span>

def restrict(value, range)
  [[value, range.first].max, range.last].min
end</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="ruby1?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>ruby1?</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Whether or not this is running under a Ruby version under 2.0.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


540
541
542</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/Users/jlong/Workspaces/sass-lang.org/.sass/lib/sass/util.rb', line 540</span>

def ruby1?
  Sass::Util::RUBY_VERSION[0] &lt;= 1
end</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="ruby1_8?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>ruby1_8?</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Whether or not this is running under Ruby 1.8 or lower.</p>

<p>Note that IronRuby counts as Ruby 1.8, because it doesn???t support the Ruby 1.9 encoding API.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


550
551
552
553
554</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/Users/jlong/Workspaces/sass-lang.org/.sass/lib/sass/util.rb', line 550</span>

def ruby1_8?
  # IronRuby says its version is 1.9, but doesn't support any of the encoding APIs.
  # We have to fall back to 1.8 behavior.
  ironruby? || (Sass::Util::RUBY_VERSION[0] == 1 &amp;&amp; Sass::Util::RUBY_VERSION[1] &lt; 9)
end</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="ruby1_8_6?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>ruby1_8_6?</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Whether or not this is running under Ruby 1.8.6 or lower. Note that lower versions are not officially supported.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


560
561
562</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/Users/jlong/Workspaces/sass-lang.org/.sass/lib/sass/util.rb', line 560</span>

def ruby1_8_6?
  ruby1_8? &amp;&amp; Sass::Util::RUBY_VERSION[2] &lt; 7
end</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="sass_warn-instance_method">
  
    - <strong>sass_warn</strong>(msg) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>The same as <code>Kernel#warn</code>, but is silenced by <span class='object_link'><a href="#silence_sass_warnings-instance_method" title="Sass::Util#silence_sass_warnings (method)">#silence_sass_warnings</a></span>.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>msg</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


409
410
411
412</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/Users/jlong/Workspaces/sass-lang.org/.sass/lib/sass/util.rb', line 409</span>

def sass_warn(msg)
  msg = msg + &quot;\n&quot; unless ruby1?
  Sass.logger.warn(msg)
end</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="scope-instance_method">
  
    - (<tt>String</tt>) <strong>scope</strong>(file) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the path of a file relative to the Sass root directory.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>file</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The filename relative to the Sass root</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The filename relative to the the working directory</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


29
30
31</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/Users/jlong/Workspaces/sass-lang.org/.sass/lib/sass/util.rb', line 29</span>

def scope(file)
  File.join(Sass::ROOT_DIR, file)
end</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="set_eql?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>set_eql?</strong>(set1, set2) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Tests the hash-equality of two sets in a cross-version manner. Aggravatingly, this is order-dependent in Ruby 1.8.6.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>set1</span>
      
      
        <span class='type'>(<tt>Set</tt>)</span>
      
      
      
    </li>
  
    <li>
      
        <span class='name'>set2</span>
      
      
        <span class='type'>(<tt>Set</tt>)</span>
      
      
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Whether or not the sets are hashcode equal</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


784
785
786
787</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/Users/jlong/Workspaces/sass-lang.org/.sass/lib/sass/util.rb', line 784</span>

def set_eql?(set1, set2)
  return set1.eql?(set2) unless ruby1_8_6?
  set1.to_a.uniq.sort_by {|e| e.hash}.eql?(set2.to_a.uniq.sort_by {|e| e.hash})
end</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="set_hash-instance_method">
  
    - (<tt>Fixnum</tt>) <strong>set_hash</strong>(set) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the hash code for a set in a cross-version manner. Aggravatingly, this is order-dependent in Ruby 1.8.6.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>set</span>
      
      
        <span class='type'>(<tt>Set</tt>)</span>
      
      
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Fixnum</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The order-independent hashcode of <code>set</code></p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


773
774
775
776</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/Users/jlong/Workspaces/sass-lang.org/.sass/lib/sass/util.rb', line 773</span>

def set_hash(set)
  return set.hash unless ruby1_8_6?
  set.map {|e| e.hash}.uniq.sort.hash
end</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="silence_sass_warnings-instance_method">
  
    - <strong>silence_sass_warnings</strong> { ... }
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Silences all Sass warnings within a block.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Yields:</p>
<ul class="yield">
  
    <li>
      
      
        <span class='type'></span>
      
      
      
        
        <div class='inline'>
<p>A block in which no Sass warnings will be printed</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


399
400
401
402
403
404</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/Users/jlong/Workspaces/sass-lang.org/.sass/lib/sass/util.rb', line 399</span>

def silence_sass_warnings
  old_level, Sass.logger.log_level = Sass.logger.log_level, :error
  yield
ensure
  Sass.logger.log_level = old_level
end</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="silence_warnings-instance_method">
  
    - <strong>silence_warnings</strong> { ... }
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Silence all output to STDERR within a block.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Yields:</p>
<ul class="yield">
  
    <li>
      
      
        <span class='type'></span>
      
      
      
        
        <div class='inline'>
<p>A block in which no output will be printed to STDERR</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


388
389
390
391
392
393</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/Users/jlong/Workspaces/sass-lang.org/.sass/lib/sass/util.rb', line 388</span>

def silence_warnings
  the_real_stderr, $stderr = $stderr, StringIO.new
  yield
ensure
  $stderr = the_real_stderr
end</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="strip_string_array-instance_method">
  
    - (<tt>Array</tt>) <strong>strip_string_array</strong>(arr) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Destructively strips whitespace from the beginning and end of the first and last elements, respectively, in the array (if those elements are strings).</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>arr</span>
      
      
        <span class='type'>(<tt>Array</tt>)</span>
      
      
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Array</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p><code>arr</code></p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


182
183
184
185
186</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/Users/jlong/Workspaces/sass-lang.org/.sass/lib/sass/util.rb', line 182</span>

def strip_string_array(arr)
  arr.first.lstrip! if arr.first.is_a?(String)
  arr.last.rstrip! if arr.last.is_a?(String)
  arr
end</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="subsequence?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>subsequence?</strong>(seq1, seq2) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns whether or not <code>seq1</code> is a subsequence of <code>seq2</code>. That is, whether or not <code>seq2</code> contains every element in <code>seq1</code> in the same order (and possibly more elements besides).</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>seq1</span>
      
      
        <span class='type'>(<tt>Array</tt>)</span>
      
      
      
    </li>
  
    <li>
      
        <span class='name'>seq2</span>
      
      
        <span class='type'>(<tt>Array</tt>)</span>
      
      
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


314
315
316
317
318
319
320
321
322</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/Users/jlong/Workspaces/sass-lang.org/.sass/lib/sass/util.rb', line 314</span>

def subsequence?(seq1, seq2)
  i = j = 0
  loop do
    return true if i == seq1.size
    return false if j == seq2.size
    i += 1 if seq1[i] == seq2[j]
    j += 1
  end
end</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="substitute-instance_method">
  
    - <strong>substitute</strong>(ary, from, to) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Substitutes a sub-array of one array with another sub-array.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>ary</span>
      
      
        <span class='type'>(<tt>Array</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The array in which to make the substitution</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>from</span>
      
      
        <span class='type'>(<tt>Array</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The sequence of elements to replace with <code>to</code></p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>to</span>
      
      
        <span class='type'>(<tt>Array</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The sequence of elements to replace <code>from</code> with</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


164
165
166
167
168
169
170
171
172
173
174</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/Users/jlong/Workspaces/sass-lang.org/.sass/lib/sass/util.rb', line 164</span>

def substitute(ary, from, to)
  res = ary.dup
  i = 0
  while i &lt; res.size
    if res[i...i+from.size] == from
      res[i...i+from.size] = to
    end
    i += 1
  end
  res
end</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="to_hash-instance_method">
  
    - (<tt>Hash</tt>) <strong>to_hash</strong>(arr) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Converts an array of <code>[key, value]</code> pairs to a hash.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code"><code>to_hash([[:foo, &quot;bar&quot;], [:baz, &quot;bang&quot;]])
  #=&gt; {:foo =&gt; &quot;bar&quot;, :baz =&gt; &quot;bang&quot;}</code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>arr</span>
      
      
        <span class='type'>(<tt>Array&lt;(Object, Object)&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>An array of pairs</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>A hash</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


40
41
42</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/Users/jlong/Workspaces/sass-lang.org/.sass/lib/sass/util.rb', line 40</span>

def to_hash(arr)
  Hash[arr.compact]
end</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="undefined_conversion_error_char-instance_method">
  
    - (<tt>String</tt>) <strong>undefined_conversion_error_char</strong>(e) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns a string description of the character that caused an <code>Encoding::UndefinedConversionError</code>.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'></span>
      
      
        <span class='type'>(<tt>Encoding::UndefinedConversionError</tt>)</span>
      
      
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


278
279
280
281
282
283
284
285</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/Users/jlong/Workspaces/sass-lang.org/.sass/lib/sass/util.rb', line 278</span>

def undefined_conversion_error_char(e)
  # Rubinius (as of 2.0.0.rc1) pre-quotes the error character.
  return e.error_char if rbx?
  # JRuby (as of 1.7.2) doesn't have an error_char field on
  # Encoding::UndefinedConversionError.
  return e.error_char.dump unless jruby?
  e.message[/^&quot;[^&quot;]+&quot;/] #&quot;
end</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="version_geq-instance_method">
  
    - (<tt>Boolean</tt>) <strong>version_geq</strong>(v1, v2) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns whether one version string represents the same or a more recent version than another.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>v1</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>A version string.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>v2</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Another version string.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


373
374
375</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/Users/jlong/Workspaces/sass-lang.org/.sass/lib/sass/util.rb', line 373</span>

def version_geq(v1, v2)
  version_gt(v1, v2) || !version_gt(v2, v1)
end</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="version_gt-instance_method">
  
    - (<tt>Boolean</tt>) <strong>version_gt</strong>(v1, v2) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns whether one version string represents a more recent version than another.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>v1</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>A version string.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>v2</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Another version string.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


344
345
346
347
348
349
350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/Users/jlong/Workspaces/sass-lang.org/.sass/lib/sass/util.rb', line 344</span>

def version_gt(v1, v2)
  # Construct an array to make sure the shorter version is padded with nil
  Array.new([v1.length, v2.length].max).zip(v1.split(&quot;.&quot;), v2.split(&quot;.&quot;)) do |_, p1, p2|
    p1 ||= &quot;0&quot;
    p2 ||= &quot;0&quot;
    release1 = p1 =~ /^[0-9]+$/
    release2 = p2 =~ /^[0-9]+$/
    if release1 &amp;&amp; release2
      # Integer comparison if both are full releases
      p1, p2 = p1.to_i, p2.to_i
      next if p1 == p2
      return p1 &gt; p2
    elsif !release1 &amp;&amp; !release2
      # String comparison if both are prereleases
      next if p1 == p2
      return p1 &gt; p2
    else
      # If only one is a release, that one is newer
      return release1
    end
  end
end</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="windows?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>windows?</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Whether or not this is running on Windows.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


482
483
484</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/Users/jlong/Workspaces/sass-lang.org/.sass/lib/sass/util.rb', line 482</span>

def windows?
  RbConfig::CONFIG['host_os'] =~ /mswin|windows|mingw/i
end</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="with_extracted_values-instance_method">
  
    - (<tt>Array</tt>) <strong>with_extracted_values</strong>(arr) {|str| ... }
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Allows modifications to be performed on the string form of an array containing both strings and non-strings.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>arr</span>
      
      
        <span class='type'>(<tt>Array</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The array from which values are extracted.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Yields:</p>
<ul class="yield">
  
    <li>
      
      
        <span class='type'>(<tt>str</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>A block in which string manipulation can be done to the array.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Yield Parameters:</p>
<ul class="yieldparam">
  
    <li>
      
        <span class='name'>str</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The string form of <code>arr</code>.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Yield Returns:</p>
<ul class="yieldreturn">
  
    <li>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The modified string.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Array</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The modified, interpolated array.</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


847
848
849
850
851</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/Users/jlong/Workspaces/sass-lang.org/.sass/lib/sass/util.rb', line 847</span>

def with_extracted_values(arr)
  str, vals = extract_values(arr)
  str = yield str
  inject_values(str, vals)
end</pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

    <div id="footer">
  Generated on Sun Oct 13 12:06:15 2013 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.8.7.2 (ruby-1.9.3).
</div>



  </body>
</html>